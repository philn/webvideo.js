<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebCodecs Video Player Demo</title>
  <link href="./assets/fontawesome-free-5.15.4-web/css/solid.min.css" rel="stylesheet">
  <script type="module" src="./index.js"></script>
</head>
<style>

  * {
    box-sizing: border-box;
  }

  html, body {
    font-family: Meiryo, system-ui, sans-serif, "Font Awesome 5 Free";
    background: rgb(20,20,20);
    color: rgb(231, 233, 234);
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
  }

  #app_root {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: min-content 1fr min-content;
    height: 100%;
    text-align: center;
  }

  code {
    font-family: monospace, sans-serif;
    font-size: 1em;
  }

  #title {
    font-weight: bold;
    font-size: 2rem;
  }
  
  #link a{
    color: rgb(100,100,255);
    font-size: 1.0rem;
  }

  #explainer_area {
    display: flex;
    align-items: center;
    justify-content: center;
    padding-block: 1em;
    padding-inline: 10vw;
    font-size: 1.33em;
    font-weight: 900;
    background: rgb(210 210 255);
    color: rgb(0 0 0);
  }

  #video_area, #monitor_area {
    width: 100%;
    height: 100%;
    min-height: 0;
    max-height: 100%;
  }
  
  #monitor_area {
    position: relative;
  }

  #play_btn_wrapper {
    background: rgba(0,0,0,0.5);
    color: white;
    font-weight: bold;
    font-size: 1.5rem;
    border-radius: 0.8rem;
    position: absolute;
    text-align: center;
    user-select: none;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    align-content: center;
  }

  #play_btn_wrapper:hover {
    opacity: 1 !important;
  }

  #play_btn {
    padding: 2.2vh 2.2vw;
  }

  #loader_wrapper {
    background: transparent;
    position: absolute;
    user-select: none;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    align-content: center;
  }

  img.loader_img {
  }

  canvas#monitor {
    display: block;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    min-height: 0;
    object-fit: contain;
    background: rgb(210 210 255 / 0.25);
  }

  #title_area {
    display: grid;
    grid-template-columns: max-content 1fr;
  }
  
  #title_area > * {
    display: flex;
    align-items: center;
    margin-block: 0;
    padding-block: 1em;
    font-size: 1em;
  }
  
  #title_area h2 {
    justify-content: end;
    padding-inline: 10vw 0.5em;
    background: rgb(210 210 255);
    color: rgb(0 0 0);
  }
  #title_area h3 {
    justify-content: start;
    padding-inline: 0.5em 10vw;
    border-top: 1px solid rgb(210 210 255 / 0.67);
    background: rgb(210 210 255 / 0.1);
  }
</style>
<body>

  <div id="app_root">

    <div id="explainer_area">
      <span>
        A simple video player made with WebCodecs and AudioWorklet, rendering to a <code>&lt;canvas&gt;</code> element.
      </span>
    </div>

    <div id="video_area">

      <div id="monitor_area">
        <div id="play_btn_wrapper" style="display: none"><div id="play_btn" class="fas"></div></div>
        <div id="loader_wrapper" style="display: none"><img class="loader_img" src="./assets/loader.svg"/></div>
        <canvas id="monitor" width="800" height="600"></canvas>
      </div>

    </div>

    <footer id="title_area">
      <h2>Now playing</h2>
      <h3>[title_of_video]</h3>
    </footer>

  </div>

</body>
</html>
